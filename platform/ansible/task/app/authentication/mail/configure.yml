---
- block:
    - name: Define authentication mail variables
      set_fact:
        authentication_mail_transport: '{{ platform.mail.transport }}'
        authentication_mail_host: '{{ platform.mail.host }}'
        authentication_mail_port: '{{ platform.mail.port }}'
        authentication_mail_username: '{{ platform.mail.username }}'
        authentication_mail_password: '{{ platform.mail.password }}'
    - name: Configure authentication mail settings
      include_role:
        name: app/authentication/mail/configure
  when: app.authentication.enabled
  tags: [authentication]
