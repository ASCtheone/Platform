---
- block:
    - name: Configure tenants mail transport setting
      lineinfile:
        path: '{{ tenants_mail_config_file }}'
        regexp: '^\s{4}mailer_transport:'
        line: '    mailer_transport: {{ tenants_mail_transport }}'
    - name: Configure tenants mail host setting
      lineinfile:
        path: '{{ tenants_mail_config_file }}'
        regexp: '^\s{4}mailer_host:'
        line: '    mailer_host: {{ tenants_mail_host }}'
    - name: Configure tenants mail port setting
      lineinfile:
        path: '{{ tenants_mail_config_file }}'
        regexp: '^\s{4}mailer_port:'
        line: '    mailer_port: {{ tenants_mail_port }}'
    - name: Configure tenants mail username setting
      lineinfile:
        path: '{{ tenants_mail_config_file }}'
        regexp: '^\s{4}mailer_user:'
        line: '    mailer_user: {{ tenants_mail_username }}'
    - name: Configure tenants mail password setting
      lineinfile:
        path: '{{ tenants_mail_config_file }}'
        regexp: '^\s{4}mailer_password:'
        line: '    mailer_password: ''{{ tenants_mail_password }}'''
  tags: [tenants]
